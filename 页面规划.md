# 页面规划文档

## 一、页面结构总览

基于4个用户角色，系统分为4套独立的页面体系：

```
CBMS 统一登录 → 定检可视化模块入口
├── 主管单位管理员（Web）
├── 执行单位管理员（Web）
├── 平台超级管理员（Web，后续扩展）
└── 检测人员（小程序端 / Web 演示）
```

---

## 二、平台超级管理员页面（Web端）

### 2.1 页面列表

| 页面路径 | 页面名称 | 核心功能 |
|---------|---------|---------|
| `/admin/login` | 登录页 | 平台管理员登录 |
| `/admin/dashboard` | 运营看板 | 租户统计、系统健康度、计费概览 |
| `/admin/tenants` | 租户管理 | 租户列表、开通、配置、到期管理 |
| `/admin/tenants/:id` | 租户详情 | 租户信息、功能开关、使用统计 |
| `/admin/platform/config` | 平台配置 | 系统参数、设备型号库、地图服务配置 |
| `/admin/monitoring` | 系统监控 | 系统健康度、日志审计、告警中心 |
| `/admin/billing` | 计费管理 | 租户计费、账单、资源使用统计 |

### 2.2 功能模块

- **租户管理**：开通、编辑、停用、续费
- **平台配置**：全局参数、设备型号、地图服务、短信网关
- **运营监控**：系统健康、租户使用情况、日志审计
- **计费管理**：按设备数、用户数、存储量计费

---

## 三、主管单位管理员页面（Web端）

### 3.1 页面列表

| 页面路径 | 页面名称 | 核心功能 |
|---------|---------|---------|
| `/tenant/dashboard` | 监管大屏 | 实时视频墙、地图、告警、统计卡片 |
| `/tenant/projects` | 定检计划管理 | 项目包/路线/路段维护、审批、发布 |
| `/tenant/projects/:id` | 计划详情 | 计划内容、桥梁清单、检查标准 |
| `/tenant/monitoring` | 实时监控 | 视频墙、地图联动、人员列表 |
| `/tenant/monitoring/:operatorId` | 单路视频 | 单个人员视频、对讲、指令下发 |
| `/tenant/alerts` | 告警中心 | 告警列表、处理、闭环 |
| `/tenant/tasks` | 作业总览 | 所有作业记录、状态、履约评估 |
| `/tenant/reports` | 数据分析 | KPI看板、统计报表、导出 |
| `/tenant/users` | 用户管理 | 创建执行单位、分配权限 |
| `/tenant/settings` | 系统设置 | 租户信息、告警规则、通知配置 |

### 3.2 功能模块

- **监管大屏**：实时视频墙、地图、告警滚动、统计卡片
- **定检计划**：维护项目包→路线→路段清单，审批发布
- **实时监控**：视频墙、地图、对讲、指令下发
- **告警处理**：告警列表、确认、整改、闭环
- **数据分析**：KPI看板、多维度统计、报表导出
- **用户管理**：创建执行单位账号、权限分配

---

## 四、执行单位管理员页面（Web端）

### 4.1 页面列表

| 页面路径 | 页面名称 | 核心功能 |
|---------|---------|---------|
| `/provider/login` | 登录页 | 执行单位管理员登录 |
| `/provider/dashboard` | 作业总览 | 本单位作业统计、设备状态、告警概览 |
| `/provider/devices` | 设备管理 | 设备登记、绑定、状态监控、维护记录 |
| `/provider/devices/register` | 设备登记 | 录入设备信息、上传凭证 |
| `/provider/personnel` | 人员管理 | 检测人员账号、信息维护、设备绑定 |
| `/provider/tasks` | 作业记录 | 本单位作业列表、进度、数据审核 |
| `/provider/tasks/:id` | 作业详情 | 作业数据、现场照片、视频回放 |
| `/provider/reports` | 数据统计 | 本单位统计报表、导出 |
| `/provider/settings` | 单位设置 | 单位信息、通知配置 |

### 4.2 功能模块

- **设备管理**：设备登记、绑定、状态监控、维护
- **人员管理**：检测人员账号、信息维护、设备绑定
- **作业管理**：作业记录查看、数据审核、进度跟踪
- **数据统计**：本单位统计报表、导出

---

## 五、检测人员页面（小程序端 - Web模拟）

### 5.1 页面列表

| 页面路径 | 页面名称 | 核心功能 |
|---------|---------|---------|
| `/worker/login` | 登录页 | 检测人员登录（企业微信/手机验证码） |
| `/worker/checkin` | 开工打卡 | 选择项目包/路线/路段、打卡、自动开视频 |
| `/worker/working` | 作业中 | 实时定位、视频状态、数据采集、对讲 |
| `/worker/checkout` | 收工打卡 | 结束视频、提交检查结果、异常说明 |
| `/worker/tasks` | 作业记录 | 历史作业记录、状态查看 |
| `/worker/messages` | 消息中心 | 告警通知、指令、系统消息 |
| `/worker/profile` | 个人中心 | 个人信息、设备绑定、设置 |

### 5.2 功能模块

- **打卡流程**：选择项目包→路线→路段、打卡、自动开视频
- **作业执行**：实时定位、数据采集（表单、照片、视频）、对讲
- **消息中心**：告警、指令、系统通知
- **个人中心**：个人信息、设备绑定

---

## 六、页面优先级（MVP阶段）

### 6.1 第一阶段：核心演示页面

**主管单位管理员（重点）**：
1. ✅ 监管大屏（视频墙、地图、告警）
2. ✅ 实时监控（单路视频、对讲）
3. ⏳ 定检计划查询（列表 + 详情）
4. ⏳ 告警中心

**检测人员（小程序模拟）**：
1. ✅ 登录页
2. ✅ 开工打卡（选择项目包/路线/路段）
3. ⏳ 作业中页面（数据采集）
4. ⏳ 收工打卡

**执行单位管理员**：
1. ⏳ 登录页
2. ⏳ 设备管理（登记、列表）
3. ⏳ 人员管理
4. ⏳ 作业总览

**平台超级管理员**：
1. ⏳ 登录页
2. ⏳ 租户管理
3. ⏳ 平台配置

### 6.2 第二阶段：完善功能

- 数据分析与报表
- 轨迹回放
- 履约核查
- 消息中心
- 系统设置

---

## 七、页面设计原则

1. **角色隔离**：不同角色登录后进入各自的后台，URL路径清晰区分
2. **功能聚焦**：每个页面只做一件事，避免功能堆砌
3. **实时性优先**：监管大屏、视频墙等核心页面优先保证实时数据展示
4. **移动端适配**：检测人员页面需考虑移动端体验（小程序模拟）
5. **Mock数据驱动**：当前阶段所有页面使用Mock数据，便于快速迭代

---

## 八、下一步行动

1. **细化页面设计**：逐个页面讨论UI布局、交互细节
2. **完善Mock数据**：补充更丰富的测试数据
3. **实现页面路由**：按角色配置路由守卫和权限控制
4. **优化UI组件**：提升视觉设计和交互体验

